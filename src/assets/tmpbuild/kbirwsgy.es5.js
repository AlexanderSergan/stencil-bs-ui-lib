/*! Built with http://stenciljs.com */
index.loadComponents(function(e,t,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function e(){this.files=[],this.type="primary",this.maxFiles=0,this.nodrop=!1,this.noAuto=!1,this.maxFileSize=0}return e.prototype.componentWillLoad=function(){this.element=this.el;var e=this;this.element.uploadFiles=function(){e.uploadFiles()}},e.prototype.openFileInput=function(){this.el.getElementsByClassName("scb-fi-hidden")[0].click()},e.prototype.removeFile=function(e){var t=this,i=this.element.files,r=i[e];r.reading&&r.fileReader.abort(),r.uploading&&r.xhr.abort(),i.splice(e,1),this.element.files=[],setTimeout(function(){return t.element.files=i.slice()})},e.prototype.retryUpload=function(e){var t=this.element.files[e];this.isLoadingAborted&&this.uploadFile(t)},e.prototype.uploadFiles=function(){var e=this;this.files.forEach(function(t){return t.isRead&&e.uploadFile(t)})},e.prototype.isLoadingAborted=function(e){return Boolean(e.uploadEnded&&100!==e.loadStatus)},e.prototype.cancelDefaultDragEnter=function(e){return e.preventDefault(),!1},e.prototype.cancelDefaultDragOver=function(e){return e.preventDefault(),!1},e.prototype.onDrop=function(e){if(event.preventDefault(),!this.nodrop){var t=e.dataTransfer;this.addFiles(t.files)}return!1},e.prototype.onFileSelect=function(e){this.addFiles(e.target.files),e.target.value=""},e.prototype.addFiles=function(e){var t=this,i=this.maxFiles-this.element.files.length;if(e.length>0&&(0===this.maxFiles||i>0)){var r=this.element.files,a=[];this.element.files=[];for(var n=0,o=e;n<o.length;n++){var s=o[n];this.isAcceptedFileType(s)&&this.isPassedFileSize(s)&&a.push(s)}this.maxFiles>0&&a.length>i&&(a.length=i),a.forEach(function(e,t){e.elemId="file"+t+Date.now()}),setTimeout(function(){return t.element.files=r.concat(a)}),a.forEach(function(e){return t.readFile(e)})}},e.prototype.isAcceptedFileType=function(e){if(!this.accept)return!0;var t=e.name.match(/\.[^\.]*$|$/)[0],i=new RegExp("^("+this.accept.replace(/[, ]+/g,"|").replace(/\/\*/g,"/.*")+")$","i");return i.test(e.type)||i.test(t)},e.prototype.isPassedFileSize=function(e){return!this.maxFileSize||e.size<=this.maxFileSize},e.prototype.toggleRetryBtn=function(e){var t=this.el.querySelector("#"+e.elemId+" .scb-fi-retry-btn"),i=this.isLoadingAborted(e);t&&t.classList.toggle("d-inline-block",i)},e.prototype.readFile=function(e){var t=this,i=new FileReader,r=this.method&&this.target&&this.formDataName;this.changeFileUploadProgress(e,0,"Start reading"),i.onprogress=function(i){var r=Math.round(i.loaded/i.total*100);t.changeFileUploadProgress(e,r,"Reading")},i.onloadend=function(){t.toggleRetryBtn(e)},i.onload=function(){e.reading=!1,e.isRead=!0,t.changeFileUploadProgress(e,100,r?"Queued":""),r&&!t.noAuto&&t.uploadFile(e)},e.reading=!0,i.readAsDataURL(e),e.fileReader=i},e.prototype.uploadFile=function(e){var t=this;if(!e.uploading){var i,r=new XMLHttpRequest;if(e.xhr=r,r.upload.onprogress=function(a){clearTimeout(i);var n=a.loaded,o=a.total,s=Math.round(n/o*100);e.loaded=n,e.indeterminate=0>=n||n>=o,e.error?(e.status="",e.indeterminate=void 0):e.abort||(100>s?i=setTimeout(function(){t.changeFileUploadProgress(e,s,"Stalled")},2e3):e.uploading=!1,t.changeFileUploadProgress(e,s,"Uploading"),t.el.dispatchEvent(new CustomEvent("upload-progress",{detail:{file:e,xhr:r}})))},r.onreadystatechange=function(){if(4===r.readyState)if(clearTimeout(i),e.indeterminate=e.uploading=!1,e.abort)t.changeFileUploadProgress(e,e.loadStatus,"Aborted");else{if(!t.el.dispatchEvent(new CustomEvent("upload-response",{detail:{file:e,xhr:r},cancelable:!0})))return;0===r.status?e.error="Server unavailable":r.status>=500?e.error="Unexpected server error":r.status>=400&&(e.error="Forbidden"),e.complete=!1,t.el.dispatchEvent(new CustomEvent("upload-"+(e.error?"error":"success"),{detail:{file:e,xhr:r}}));var a=e.error?e.loadStatus:100,n=e.error?"Error: "+e.error:"";t.changeFileUploadProgress(e,a,n),e.uploadEnded=!0,e.uploaded=!e.error}},r.upload.onloadstart=function(){t.el.dispatchEvent(new CustomEvent("upload-start",{detail:{file:e,xhr:r}}))},r.upload.onloadend=function(){e.uploadEnded=!0,t.toggleRetryBtn(e)},!this.el.dispatchEvent(new CustomEvent("upload-before",{detail:{file:e,xhr:r},cancelable:!0})))return;var a=new FormData;e.uploadTarget=this.target||"",e.formDataName=this.formDataName,this.changeFileUploadProgress(e,0,"Start uploading"),a.append(e.formDataName,e,e.name),r.open(this.method,e.uploadTarget,!0),this.configureXhr(r),e.indeterminate=!0,e.uploading=!0,e.uploadEnded=!1,e.complete=e.abort=e.error=e.held=!1,this.el.dispatchEvent(new CustomEvent("upload-request",{detail:{file:e,xhr:r,formData:a},cancelable:!0}))&&r.send(a)}},e.prototype.configureXhr=function(e){var t;if("string"==typeof this.headers)try{t=JSON.parse(this.headers.replace(new RegExp("'","g"),'"'))}catch(e){t=void 0}for(var i in t)e.setRequestHeader(i,t[i]);this.timeout&&(e.timeout=this.timeout)},e.prototype.changeFileUploadProgress=function(e,t,i){var r=this.el.querySelector("#"+e.elemId+" .progress-bar"),a=this.el.querySelector("#"+e.elemId+" .scb-fi-status");e.loadStatus=t,e.status=i,r&&(r.style.width=t+"%"),a&&(a.innerHTML=e.status||"")},e.prototype.render=function(){var e,i=this,r=((e={"scb-fi-default-button":!0,btn:!0})["btn-outline-"+this.type]=!0,e),a=1!==this.maxFiles,n=a?"Upload Files":"Select File",o=a?"Drop files here...":"Drop file here...",s=this.nodrop?"":t("span",{class:"scb-fi-label"},t("slot",{name:"label"}),t("span",{class:"scb-fi-default-label"},o)),l={},d={};return this.maxFiles>0&&this.maxFiles<=this.element.files.length&&(l.disabled="disabled"),a&&(d.multiple=!0),this.accept&&(d.accept=this.accept),t("div",{class:"scb-fi-wrapper"},t("input",Object.assign({class:"scb-fi-hidden",type:"file",onChange:function(){return i.onFileSelect(event)}},d)),t("fieldset",Object.assign({class:"scb-fi-button-wrapper",onClick:function(){return i.openFileInput()}},l),t("slot",{name:"button"}),t("button",{class:r},n)),s,this.files.map(function(e,r){return t("div",{class:"scb-fi-row",id:e.elemId},t("div",{class:"scb-fi-row-header"},t("span",{class:"scb-fi-name"},e.name),t("div",{class:"scb-fi-controls"},t("button",{class:{"scb-fi-icon-btn":!0,"scb-fi-retry-btn":!0,"d-inline-block":i.isLoadingAborted(e)},onClick:function(){return i.retryUpload(r)}},t("span",{class:"scb-icon icon-reload"})),t("button",{class:"scb-fi-icon-btn close",onClick:function(){return i.removeFile(r)}},t("span",{"aria-hidden":"true"},"Ã—")))),t("div",{class:"scb-fi-status"},e.status),t("div",{class:"progress"},t("div",{class:(a={"progress-bar":!0},a["bg-"+i.type]=!0,a),style:{width:e.loadStatus+"%"},role:"progressbar","aria-valuenow":"0","aria-valuemin":"0","aria-valuemax":"100"})));var a}))},Object.defineProperty(e,"is",{get:function(){return"scb-file-input"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"properties",{get:function(){return{accept:{type:String,attr:"accept"},el:{elementRef:!0},element:{state:!0},files:{type:"Any"},formDataName:{type:String,attr:"form-data-name"},headers:{type:String,attr:"headers"},maxFiles:{type:Number,attr:"max-files"},maxFileSize:{type:Number,attr:"max-file-size"},method:{type:String,attr:"method"},noAuto:{type:Boolean,attr:"no-auto"},nodrop:{type:Boolean,attr:"nodrop"},target:{type:String,attr:"target"},timeout:{type:Number,attr:"timeout"},type:{type:"Any"}}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"style",{get:function(){return".scb-icon{display:inline-block;width:16px;height:16px;vertical-align:middle;opacity:.75;line-height:1}.scb-icon:focus,.scb-icon:hover{opacity:1}.scb-icon::before{content:'';display:block;width:16px;height:16px;background-size:16px;background-repeat:no-repeat}.scb-icon.icon-close::before{background-image:url(\"data:image/svg+xml;charset=utf8,%3Csvg viewBox='0 0 17 17' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' class='si-glyph si-glyph-delete'%3E\a       %3Ctitle%3E1227%3C/title%3E\a       %3Cdefs%3E%3C/defs%3E\a       %3Cg stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E\a           %3Cpath d='M12.566,8 L15.611,4.956 C16.031,4.535 16.031,3.853 15.611,3.434 L12.566,0.389 C12.146,-0.031 11.464,-0.031 11.043,0.389 L7.999,3.433 L4.955,0.389 C4.534,-0.031 3.852,-0.031 3.432,0.389 L0.388,3.434 C-0.034,3.854 -0.034,4.536 0.387,4.956 L3.431,8 L0.387,11.044 C-0.034,11.465 -0.034,12.147 0.388,12.567 L3.432,15.611 C3.852,16.032 4.534,16.032 4.955,15.611 L7.999,12.567 L11.043,15.611 C11.464,16.032 12.146,16.032 12.566,15.611 L15.611,12.567 C16.031,12.146 16.031,11.464 15.611,11.044 L12.566,8 L12.566,8 Z' fill='%23434343' class='si-glyph-fill'%3E%3C/path%3E\a       %3C/g%3E\a     %3C/svg%3E\")}.scb-icon.icon-reload::before{background-image:url(\"data:image/svg+xml;charset=utf8,%3Csvg viewBox='0 0 17 16' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' class='si-glyph si-glyph-arrow-reload'%3E\a       %3Ctitle%3E802%3C/title%3E\a       %3Cdefs%3E%3C/defs%3E\a       %3Cg stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E\a         %3Cg transform='translate(1.000000, 2.000000)' fill='%23434343'%3E\a           %3Cpath d='M15.796,6.908 L14.234,5.21 C14.019,4.998 13.672,4.998 13.458,5.21 L11.894,6.908 C11.679,7.122 11.679,7.467 11.894,7.68 L13.188,7.68 C12.702,9.505 11.27,10.976 9.399,11.47 C7.231,12.042 4.913,11.191 3.632,9.351 L2.541,10.102 C3.807,11.921 5.884,12.966 8.039,12.966 C8.604,12.966 9.176,12.894 9.737,12.745 C12.188,12.099 14.04,10.112 14.55,7.68 L15.795,7.68 C16.01,7.467 16.01,7.122 15.796,6.908 L15.796,6.908 Z' class='si-glyph-fill'%3E%3C/path%3E\a           %3Cpath d='M4.475,6.021 C4.69,5.808 4.69,5.462 4.475,5.249 L3.018,5.249 C3.516,3.448 4.936,2.001 6.789,1.511 C8.959,0.938 11.275,1.791 12.555,3.632 L13.647,2.88 C12.049,0.585 9.161,-0.479 6.448,0.235 C4.016,0.878 2.175,2.84 1.648,5.249 L0.196,5.249 C-0.019,5.463 -0.019,5.809 0.196,6.021 L1.834,7.658 C2.048,7.87 2.396,7.87 2.61,7.658 L4.475,6.021 L4.475,6.021 Z' class='si-glyph-fill'%3E%3C/path%3E\a         %3C/g%3E\a       %3C/g%3E\a     %3C/svg%3E\")}scb-file-input{display:block;margin-bottom:20px}scb-file-input .scb-fi-wrapper{width:100%;padding:20px;border:1px dashed #363636}scb-file-input .scb-fi-hidden{width:0;height:0;overflow:hidden;opacity:0}scb-file-input .scb-fi-button-wrapper{display:inline-block}scb-file-input .scb-fi-row-header{display:flex;justify-content:space-between}scb-file-input .scb-fi-label{display:inline-block;margin-left:10px;vertical-align:middle}scb-file-input [slot=label]+.scb-fi-default-label{display:none}scb-file-input [slot=button]+.scb-fi-default-button{display:none}scb-file-input .scb-fi-row{margin-top:10px}scb-file-input .scb-fi-icon-btn,scb-file-input .scb-fi-icon-btn:focus,scb-file-input .scb-fi-icon-btn:hover{background:0 0;outline:0;box-shadow:none;border:none;cursor:pointer;line-height:1}scb-file-input .scb-fi-wrapper .progress-bar{transition:none}scb-file-input .scb-fi-retry-btn{display:none}"},enumerable:!0,configurable:!0}),e}();e.ScbFileInput=r},"kbirwsgy");