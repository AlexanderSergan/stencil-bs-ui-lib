/*! Built with http://stenciljs.com */
const{h,Context}=window.index;var isArray=Array.isArray,isArray_1=isArray,commonjsGlobal="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},freeGlobal="object"==typeof commonjsGlobal&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,_freeGlobal=freeGlobal,freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root=_freeGlobal||freeSelf||Function("return this")(),_root=root,Symbol=_root.Symbol,_Symbol=Symbol,objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,nativeObjectToString=objectProto.toString,symToStringTag=_Symbol?_Symbol.toStringTag:void 0;function getRawTag(t){var e=hasOwnProperty.call(t,symToStringTag),a=t[symToStringTag];try{t[symToStringTag]=void 0;var r=!0}catch(t){}var s=nativeObjectToString.call(t);return r&&(e?t[symToStringTag]=a:delete t[symToStringTag]),s}var _getRawTag=getRawTag,objectProto$1=Object.prototype,nativeObjectToString$1=objectProto$1.toString;function objectToString(t){return nativeObjectToString$1.call(t)}var _objectToString=objectToString,nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag$1=_Symbol?_Symbol.toStringTag:void 0;function baseGetTag(t){return null==t?void 0===t?undefinedTag:nullTag:symToStringTag$1&&symToStringTag$1 in Object(t)?_getRawTag(t):_objectToString(t)}var _baseGetTag=baseGetTag;function isObjectLike(t){return null!=t&&"object"==typeof t}var isObjectLike_1=isObjectLike,symbolTag="[object Symbol]";function isSymbol(t){return"symbol"==typeof t||isObjectLike_1(t)&&_baseGetTag(t)==symbolTag}var isSymbol_1=isSymbol,reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;function isKey(t,e){if(isArray_1(t))return!1;var a=typeof t;return!("number"!=a&&"symbol"!=a&&"boolean"!=a&&null!=t&&!isSymbol_1(t))||(reIsPlainProp.test(t)||!reIsDeepProp.test(t)||null!=e&&t in Object(e))}var _isKey=isKey;function isObject(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}var isObject_1=isObject,asyncTag="[object AsyncFunction]",funcTag="[object Function]",genTag="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction(t){if(!isObject_1(t))return!1;var e=_baseGetTag(t);return e==funcTag||e==genTag||e==asyncTag||e==proxyTag}var isFunction_1=isFunction,coreJsData=_root["__core-js_shared__"],_coreJsData=coreJsData,maskSrcKey=function(){var t=/[^.]+$/.exec(_coreJsData&&_coreJsData.keys&&_coreJsData.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function isMasked(t){return!!maskSrcKey&&maskSrcKey in t}var _isMasked=isMasked,funcProto=Function.prototype,funcToString=funcProto.toString;function toSource(t){if(null!=t){try{return funcToString.call(t)}catch(t){}try{return t+""}catch(t){}}return""}var _toSource=toSource,reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto$1=Function.prototype,objectProto$2=Object.prototype,funcToString$1=funcProto$1.toString,hasOwnProperty$1=objectProto$2.hasOwnProperty,reIsNative=RegExp("^"+funcToString$1.call(hasOwnProperty$1).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative(t){return!(!isObject_1(t)||_isMasked(t))&&(isFunction_1(t)?reIsNative:reIsHostCtor).test(_toSource(t))}var _baseIsNative=baseIsNative;function getValue(t,e){return null==t?void 0:t[e]}var _getValue=getValue;function getNative(t,e){var a=_getValue(t,e);return _baseIsNative(a)?a:void 0}var _getNative=getNative,nativeCreate=_getNative(Object,"create"),_nativeCreate=nativeCreate;function hashClear(){this.__data__=_nativeCreate?_nativeCreate(null):{},this.size=0}var _hashClear=hashClear;function hashDelete(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var _hashDelete=hashDelete,HASH_UNDEFINED="__lodash_hash_undefined__",objectProto$3=Object.prototype,hasOwnProperty$2=objectProto$3.hasOwnProperty;function hashGet(t){var e=this.__data__;if(_nativeCreate){var a=e[t];return a===HASH_UNDEFINED?void 0:a}return hasOwnProperty$2.call(e,t)?e[t]:void 0}var _hashGet=hashGet,objectProto$4=Object.prototype,hasOwnProperty$3=objectProto$4.hasOwnProperty;function hashHas(t){var e=this.__data__;return _nativeCreate?void 0!==e[t]:hasOwnProperty$3.call(e,t)}var _hashHas=hashHas,HASH_UNDEFINED$1="__lodash_hash_undefined__";function hashSet(t,e){var a=this.__data__;return this.size+=this.has(t)?0:1,a[t]=_nativeCreate&&void 0===e?HASH_UNDEFINED$1:e,this}var _hashSet=hashSet;function Hash(t){var e=-1,a=null==t?0:t.length;for(this.clear();++e<a;){var r=t[e];this.set(r[0],r[1])}}Hash.prototype.clear=_hashClear,Hash.prototype.delete=_hashDelete,Hash.prototype.get=_hashGet,Hash.prototype.has=_hashHas,Hash.prototype.set=_hashSet;var _Hash=Hash;function listCacheClear(){this.__data__=[],this.size=0}var _listCacheClear=listCacheClear;function eq(t,e){return t===e||t!=t&&e!=e}var eq_1=eq;function assocIndexOf(t,e){for(var a=t.length;a--;)if(eq_1(t[a][0],e))return a;return-1}var _assocIndexOf=assocIndexOf,arrayProto=Array.prototype,splice=arrayProto.splice;function listCacheDelete(t){var e=this.__data__,a=_assocIndexOf(e,t);return!(a<0)&&(a==e.length-1?e.pop():splice.call(e,a,1),--this.size,!0)}var _listCacheDelete=listCacheDelete;function listCacheGet(t){var e=this.__data__,a=_assocIndexOf(e,t);return a<0?void 0:e[a][1]}var _listCacheGet=listCacheGet;function listCacheHas(t){return _assocIndexOf(this.__data__,t)>-1}var _listCacheHas=listCacheHas;function listCacheSet(t,e){var a=this.__data__,r=_assocIndexOf(a,t);return r<0?(++this.size,a.push([t,e])):a[r][1]=e,this}var _listCacheSet=listCacheSet;function ListCache(t){var e=-1,a=null==t?0:t.length;for(this.clear();++e<a;){var r=t[e];this.set(r[0],r[1])}}ListCache.prototype.clear=_listCacheClear,ListCache.prototype.delete=_listCacheDelete,ListCache.prototype.get=_listCacheGet,ListCache.prototype.has=_listCacheHas,ListCache.prototype.set=_listCacheSet;var _ListCache=ListCache,Map=_getNative(_root,"Map"),_Map=Map;function mapCacheClear(){this.size=0,this.__data__={hash:new _Hash,map:new(_Map||_ListCache),string:new _Hash}}var _mapCacheClear=mapCacheClear;function isKeyable(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}var _isKeyable=isKeyable;function getMapData(t,e){var a=t.__data__;return _isKeyable(e)?a["string"==typeof e?"string":"hash"]:a.map}var _getMapData=getMapData;function mapCacheDelete(t){var e=_getMapData(this,t).delete(t);return this.size-=e?1:0,e}var _mapCacheDelete=mapCacheDelete;function mapCacheGet(t){return _getMapData(this,t).get(t)}var _mapCacheGet=mapCacheGet;function mapCacheHas(t){return _getMapData(this,t).has(t)}var _mapCacheHas=mapCacheHas;function mapCacheSet(t,e){var a=_getMapData(this,t),r=a.size;return a.set(t,e),this.size+=a.size==r?0:1,this}var _mapCacheSet=mapCacheSet;function MapCache(t){var e=-1,a=null==t?0:t.length;for(this.clear();++e<a;){var r=t[e];this.set(r[0],r[1])}}MapCache.prototype.clear=_mapCacheClear,MapCache.prototype.delete=_mapCacheDelete,MapCache.prototype.get=_mapCacheGet,MapCache.prototype.has=_mapCacheHas,MapCache.prototype.set=_mapCacheSet;var _MapCache=MapCache,FUNC_ERROR_TEXT="Expected a function";function memoize(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError(FUNC_ERROR_TEXT);var a=function(){var r=arguments,s=e?e.apply(this,r):r[0],i=a.cache;if(i.has(s))return i.get(s);var o=t.apply(this,r);return a.cache=i.set(s,o)||i,o};return a.cache=new(memoize.Cache||_MapCache),a}memoize.Cache=_MapCache;var memoize_1=memoize,MAX_MEMOIZE_SIZE=500;function memoizeCapped(t){var e=memoize_1(t,function(t){return a.size===MAX_MEMOIZE_SIZE&&a.clear(),t}),a=e.cache;return e}var _memoizeCapped=memoizeCapped,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar=/\\(\\)?/g,stringToPath=_memoizeCapped(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(rePropName,function(t,a,r,s){e.push(r?s.replace(reEscapeChar,"$1"):a||t)}),e}),_stringToPath=stringToPath;function arrayMap(t,e){for(var a=-1,r=null==t?0:t.length,s=Array(r);++a<r;)s[a]=e(t[a],a,t);return s}var _arrayMap=arrayMap,INFINITY=1/0,symbolProto=_Symbol?_Symbol.prototype:void 0,symbolToString=symbolProto?symbolProto.toString:void 0;function baseToString(t){if("string"==typeof t)return t;if(isArray_1(t))return _arrayMap(t,baseToString)+"";if(isSymbol_1(t))return symbolToString?symbolToString.call(t):"";var e=t+"";return"0"==e&&1/t==-INFINITY?"-0":e}var _baseToString=baseToString;function toString(t){return null==t?"":_baseToString(t)}var toString_1=toString;function castPath(t,e){return isArray_1(t)?t:_isKey(t,e)?[t]:_stringToPath(toString_1(t))}var _castPath=castPath,INFINITY$1=1/0;function toKey(t){if("string"==typeof t||isSymbol_1(t))return t;var e=t+"";return"0"==e&&1/t==-INFINITY$1?"-0":e}var _toKey=toKey;function baseGet(t,e){for(var a=0,r=(e=_castPath(e,t)).length;null!=t&&a<r;)t=t[_toKey(e[a++])];return a&&a==r?t:void 0}var _baseGet=baseGet;function get(t,e,a){var r=null==t?void 0:_baseGet(t,e);return void 0===r?a:r}var get_1=get;class CwcList{constructor(){this.itemAs="item",this.addClass="",this.addClassFirst="",this.addClassLast="",this.addClassEven="",this.addClassOdd="",this.bottomOffset=100,this.debounce=300,this.debounceStatus=!1,this.bindToList=!1,this.itemsData=[],this.regex=/\[\[+(.*?) ?\]\]+/g}loadMore(){this.debounceStatus||(this.startDebounce(),this.onBottomReach.emit(this.el.id&&this.el.id))}startDebounce(){this.debounceStatus=!0,setTimeout(()=>this.debounceStatus=!1,this.debounce)}componentWillLoad(){this.initItemsData(),this.bindToList?this.el.addEventListener("scroll",this.listScrollHandler.bind(this)):document.addEventListener("scroll",this.windowScrollHandler.bind(this))}listScrollHandler(){this.el.scrollTop+this.el.clientHeight>=this.el.scrollHeight-this.bottomOffset&&this.loadMore()}windowScrollHandler(){document.querySelector(`#${this.el.id} .list-item-last`).getBoundingClientRect().bottom-this.bottomOffset<=window.innerHeight&&this.loadMore()}itemsdidChangeHandler(){this.itemsData.length=0,this.initItemsData()}initItemsData(){return this.items.map((t,e)=>{let a={index:e,itemAs:this.itemAs};a[this.itemAs]=t,this.itemsData=[...this.itemsData,a]}),this.itemsData}addListClasses(t="",e,a){let r=t+" list-item".concat(this.addClass&&" "+this.addClass);return 0==e&&(r+=" list-item-first".concat(this.addClassFirst&&" "+this.addClassFirst)),e==a-1&&(r+=" list-item-last".concat(this.addClassLast&&" "+this.addClassLast)),e%2==0&&(r+=" list-item-even".concat(this.addClassEven&&" "+this.addClassEven)),1==Math.abs(e%2)&&(r+=" list-item-odd".concat(this.addClassOdd&&" "+this.addClassOdd)),r}interpolateText(t,e){if(t.vtext){let a=t.vtext.match(this.regex);a&&a.map(a=>t.vtext=t.vtext.replace(a,get_1(e,a.slice(2,-2),a)))}if(t.vattrs)for(const a in t.vattrs)if(t.vattrs.hasOwnProperty(a)){let r=t.vattrs[a].match(this.regex);r&&r.map(r=>t.vattrs[a]=t.vattrs[a].replace(r,get_1(e,r.slice(1,-1),r)))}return t}iterateChildVNodes(t,e){if(t.vtext&&(t=this.interpolateText(t,e)),t.vattrs&&(t=this.interpolateText(t,e)),t.vchildren)for(var a=0;a<t.vchildren.length;a++)t.vchildren[a]=this.iterateChildVNodes(t.vchildren[a],e);return t}render(){const t=this.itemsData.map(t=>{let e=JSON.parse(JSON.stringify(this.template)),a=this.iterateChildVNodes(e,t);return a.vattrs.class=this.addListClasses(a.vattrs.class,t.index,this.itemsData.length),a});return h("div",{class:"item-list-wrapper "+this.wrapperClass},t)}static get is(){return"cwc-list"}static get properties(){return{addClass:{type:String,attr:"add-class"},addClassEven:{type:String,attr:"add-class-even"},addClassFirst:{type:String,attr:"add-class-first"},addClassLast:{type:String,attr:"add-class-last"},addClassOdd:{type:String,attr:"add-class-odd"},bindToList:{type:Boolean,attr:"bind-to-list"},bottomOffset:{type:Number,attr:"bottom-offset"},debounce:{type:Number,attr:"debounce"},el:{elementRef:!0},itemAs:{type:String,attr:"item-as"},items:{type:"Any",watchCallbacks:["itemsdidChangeHandler"]},itemsData:{state:!0},loadMore:{method:!0},template:{type:"Any"},wrapperClass:{type:String,attr:"wrapper-class"}}}static get events(){return[{name:"onBottomReach",method:"onBottomReach",bubbles:!0,cancelable:!0,composed:!0}]}static get style(){return"cwc-list{display:block}"}}export{CwcList};